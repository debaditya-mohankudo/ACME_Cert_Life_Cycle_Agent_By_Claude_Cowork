# ─── CA Provider ──────────────────────────────────────────────────────────────
# digicert            → https://acme.digicert.com/v2/DV/directory  (EAB required)
# letsencrypt         → https://acme-v02.api.letsencrypt.org/directory
# letsencrypt_staging → https://acme-staging-v02.api.letsencrypt.org/directory
# custom              → requires ACME_DIRECTORY_URL below
CA_PROVIDER=digicert

# ─── EAB credentials (required for DigiCert; leave empty for Let's Encrypt) ───
ACME_EAB_KEY_ID=your-eab-key-id-here
ACME_EAB_HMAC_KEY=your-base64url-hmac-key-here

# ─── Custom CA directory URL (only used when CA_PROVIDER=custom) ───────────────
# ACME_DIRECTORY_URL=https://your-ca.example.com/acme/directory

# ─── Domain management ────────────────────────────────────────────────────────
# Comma-separated list of domains to monitor and renew
MANAGED_DOMAINS=api.example.com,shop.example.com,blog.example.com
RENEWAL_THRESHOLD_DAYS=30

# ─── Storage ──────────────────────────────────────────────────────────────────
CERT_STORE_PATH=./certs
# Path to store the ACME account key (encrypted at rest in Phase 4)
ACCOUNT_KEY_PATH=./account.key

# ─── HTTP-01 Challenge ────────────────────────────────────────────────────────
# "standalone" — agent runs its own HTTP server on port 80
# "webroot"    — write token to WEBROOT_PATH for existing web server to serve
HTTP_CHALLENGE_MODE=standalone
HTTP_CHALLENGE_PORT=80
# WEBROOT_PATH=/var/www/html   # Only required when HTTP_CHALLENGE_MODE=webroot

# ─── LLM (Anthropic Claude) ───────────────────────────────────────────────────
ANTHROPIC_API_KEY=sk-ant-your-key-here
# Models per node (see agent/nodes/ for usage)
LLM_MODEL_PLANNER=claude-haiku-4-5-20251001
LLM_MODEL_ERROR_HANDLER=claude-sonnet-4-6
LLM_MODEL_REPORTER=claude-haiku-4-5-20251001

# ─── Scheduling ───────────────────────────────────────────────────────────────
# Daily check time in HH:MM (24h, UTC)
SCHEDULE_TIME=06:00

# ─── LangSmith (optional observability) ───────────────────────────────────────
# LANGCHAIN_TRACING_V2=true
# LANGCHAIN_API_KEY=ls__your-key-here
# LANGCHAIN_PROJECT=acme-cert-agent

# ─── Retry / resilience ───────────────────────────────────────────────────────
MAX_RETRIES=3
