# ─── CA Provider ──────────────────────────────────────────────────────────────
# digicert            → https://acme.digicert.com/v2/DV/directory  (EAB required)
# letsencrypt         → https://acme-v02.api.letsencrypt.org/directory
# letsencrypt_staging → https://acme-staging-v02.api.letsencrypt.org/directory
# zerossl             → https://acme.zerossl.com/v2/DV90           (EAB required)
# sectigo             → https://acme.sectigo.com/v2/DV             (EAB required)
# custom              → requires ACME_DIRECTORY_URL below
# pebble (local test) → CA_PROVIDER=custom + ACME_DIRECTORY_URL + ACME_INSECURE=true
CA_PROVIDER=custom

# ─── EAB credentials (required for DigiCert, ZeroSSL, and Sectigo) ────────────
# ACME_EAB_KEY_ID=your-eab-key-id-here
# ACME_EAB_HMAC_KEY=your-base64url-hmac-key-here
#
# Example — ZeroSSL (get EAB from zerossl.com dashboard → Developer → EAB Credentials):
# CA_PROVIDER=zerossl
# ACME_EAB_KEY_ID=<key-id>
# ACME_EAB_HMAC_KEY=<base64url-hmac-key>
#
# Example — Sectigo (get EAB from Sectigo Certificate Manager portal):
# CA_PROVIDER=sectigo
# ACME_EAB_KEY_ID=<key-id>
# ACME_EAB_HMAC_KEY=<base64url-hmac-key>

# ─── Custom CA directory URL (required when CA_PROVIDER=custom) ───────────────
# Pebble (local ACME test server — docker compose -f docker-compose.pebble.yml up)
ACME_DIRECTORY_URL=https://localhost:14000/dir
# Skip TLS verification for Pebble's self-signed cert (NEVER use in production)
ACME_INSECURE=true

# ─── Domain management ────────────────────────────────────────────────────────
# Comma-separated list of domains to monitor and renew
MANAGED_DOMAINS=api.example.com,shop.example.com,blog.example.com
RENEWAL_THRESHOLD_DAYS=30

# ─── Storage ──────────────────────────────────────────────────────────────────
CERT_STORE_PATH=./certs
# Path to store the ACME account key (encrypted at rest in Phase 4)
ACCOUNT_KEY_PATH=./account.key

# ─── HTTP-01 Challenge ────────────────────────────────────────────────────────
# "standalone" — agent runs its own HTTP server on port 80
# "webroot"    — write token to WEBROOT_PATH for existing web server to serve
HTTP_CHALLENGE_MODE=standalone
HTTP_CHALLENGE_PORT=80
# WEBROOT_PATH=/var/www/html   # Only required when HTTP_CHALLENGE_MODE=webroot

# ─── LLM Provider ─────────────────────────────────────────────────────────────
# Options: anthropic (Claude) | openai (GPT) | ollama (local models)
LLM_PROVIDER=ollama
OLLAMA_BASE_URL=http://localhost:11434

# Models per node (adjust based on LLM_PROVIDER and your hardware)
# For Ollama with ~8GB RAM: mistral:7b-instruct (recommended, tested)
# Other options: neural-chat:7b, openchat:latest, dolphin-mistral:7b
LLM_MODEL_PLANNER=mistral:7b-instruct
LLM_MODEL_ERROR_HANDLER=mistral:7b-instruct
LLM_MODEL_REPORTER=mistral:7b-instruct

# For Anthropic Claude (uncomment below and set LLM_PROVIDER=anthropic)
# ANTHROPIC_API_KEY=sk-ant-your-key-here
# LLM_MODEL_PLANNER=claude-haiku-4-5-20251001
# LLM_MODEL_ERROR_HANDLER=claude-sonnet-4-6
# LLM_MODEL_REPORTER=claude-haiku-4-5-20251001

# For OpenAI (uncomment below and set LLM_PROVIDER=openai)
# OPENAI_API_KEY=sk-...
# LLM_MODEL_PLANNER=gpt-4o-mini
# LLM_MODEL_ERROR_HANDLER=gpt-4o
# LLM_MODEL_REPORTER=gpt-4o-mini

# ─── Scheduling ───────────────────────────────────────────────────────────────
# Daily check time in HH:MM (24h, UTC)
SCHEDULE_TIME=06:00

# ─── LangSmith (optional observability) ───────────────────────────────────────
# LANGCHAIN_TRACING_V2=true
# LANGCHAIN_API_KEY=ls__your-key-here
# LANGCHAIN_PROJECT=acme-cert-agent

# ─── Retry / resilience ───────────────────────────────────────────────────────
MAX_RETRIES=3
