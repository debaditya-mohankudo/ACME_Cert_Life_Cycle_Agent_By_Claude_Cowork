# ─── Pebble local ACME stub ───────────────────────────────────────────────────
# Start Pebble first:  docker compose -f docker-compose.pebble.yml up -d
# Then run the agent:  env $(cat .env.pebble | xargs) python main.py --once

DIGICERT_ACME_DIRECTORY=https://localhost:14000/dir

# Pebble does not require EAB — leave these empty
DIGICERT_EAB_KEY_ID=
DIGICERT_EAB_HMAC_KEY=

# Use any domain — Pebble with ALWAYS_VALID=1 won't do real DNS/HTTP checks
MANAGED_DOMAINS=acme-test.localhost

RENEWAL_THRESHOLD_DAYS=30
CERT_STORE_PATH=/tmp/pebble-certs
ACCOUNT_KEY_PATH=/tmp/pebble-account.key

# Webroot mode: no port-80 binding needed since Pebble skips HTTP validation
HTTP_CHALLENGE_MODE=webroot
WEBROOT_PATH=/tmp/pebble-webroot

# Pebble uses a self-signed CA — skip TLS verification for local testing only
ACME_INSECURE=true

# Your real Anthropic key (tests mock LLM calls, so this is only needed for
# a live --once run that actually calls Claude)
ANTHROPIC_API_KEY=sk-ant-your-key-here

MAX_RETRIES=2
